import{_ as C,u as B,a as E,b as N,r as c,c as U,d as n,o as u,e as g,f as o,g as s,w as v,T as M,F as f,l as O,h as j,i as x,j as D,k as F,p as R,m as $,n as q,q as A,t as G}from"./index-b8b7d0fa.js";import{m as y,a as H}from"./messages-c18080ba.js";const m=l=>(R("data-v-7034c875"),l=l(),$(),l),J={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},P={class:"flex flex-column align-items-center justify-content-center"},z={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},K={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},Q={class:"text-center mb-5"},W=["src"],X={style:{"text-align":"center"}},Y=m(()=>s("label",{for:"username",class:"block text-900 text-x font-medium mb-2"}," NOME DE USUÁRIO ",-1)),Z=m(()=>s("label",{for:"password",class:"block text-900 font-medium text-x mb-2"}," SENHA ",-1)),ee={class:"flex align-items-center mb-6 gap-5"},se={class:"flex align-items-center"},te=m(()=>s("label",{for:"remember"},"Lembre de mim",-1)),oe={__name:"Login",setup(l){const p=B(),b=E(),{layoutConfig:h}=N(),r=c(""),i=c(""),d=c(!1);y.value.length=0;const w=U(()=>`layout/images/${h.darkTheme.value?"logo-white":"logo-dark"}.png`),k=async()=>{!r.value&&!i.value?H("login","error","Preencha todos os campos obrigatórios."):V()},V=async()=>{O();try{const a=await j.post("http://localhost:3333/users/login",{username:r.value,password:i.value,remember:d.value});x();const e=a.data.token;e&&typeof e=="string"&&e.trim()!==""?(localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(a.data.user)),b.push("/operacional/servicos")):p.add({severity:"error",summary:"Erro no Login",detail:"Token inválido ou ausente.",life:5e3})}catch(a){x(),p.add({severity:"error",summary:"Informação Inválida",detail:a.response.data.msg,life:5e3})}};return(a,e)=>{const I=n("Toast"),T=n("Message"),_=n("InputText"),S=n("Checkbox"),L=n("Button");return u(),g(f,null,[o(I),s("div",J,[s("div",P,[s("div",z,[s("div",K,[s("div",Q,[s("img",{src:w.value,height:"100",class:"mb-3"},null,8,W)]),o(M,{tag:"div"},{default:v(()=>[(u(!0),g(f,null,D(F(y),t=>(u(),q(T,{severity:t.severity,key:t.content},{default:v(()=>[A(G(t.content),1)]),_:2},1032,["severity"]))),128))]),_:1}),s("div",X,[Y,o(_,{id:"username",type:"text",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),class:"w-full md:w-30rem mb-5",style:{padding:"1rem"}},null,8,["modelValue"]),Z,o(_,{id:"password",type:"password",modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=t=>i.value=t),class:"w-full md:w-30rem mb-5",style:{padding:"1rem"}},null,8,["modelValue"]),s("div",ee,[s("div",se,[o(S,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),id:"remember",binary:"",class:"mr-2"},null,8,["modelValue"]),te])]),o(L,{label:"Entrar",class:"w-full p-3 text-xl",onClick:e[3]||(e[3]=t=>k())})])])])])])],64)}}},le=C(oe,[["__scopeId","data-v-7034c875"]]);export{le as default};
